<style>
    body {
        font-family: sans-serif
    }

    .hidden {
        display: none
    }

    .visible {
        display: block
    }

    .input-field {
        margin-bottom: 2px
    }

    .unbounded-width {
        width: 79%
    }

    .full-width {
        width: 89%
    }

    input.half-width {
        width: 43%
    }

    select.half-width {
        width: 45%
    }

    .tag-group-label {
        float: left;
        margin-top: 2px;
        width: 80%
    }

    .left {
        float: left;
    }

    .right {
        float: right
    }

    div.left {
        width: 44%
    }

    div.right {
        width: 55%
    }

    div.form {
        padding: 12px
    }

    div.form div {
        width: 100%;
        display: inline
    }

    div.tag {
        margin-bottom: 4px
    }

    div.tag-group input:nth-last-of-type(1), div.tag-group select:nth-last-of-type(1) {
        margin-bottom: 8px
    }

    input, select {
        border-radius: 4px;
        border-style: solid;
        border-width: 1px;
        margin-bottom: 2px;
        margin-top: 0;
        min-height: 18px !important;
        padding: 4px
    }

    .right button {
        margin: 2px;
        float: right
    }

    button.add, button.delete {
        width: 1.8em;
        font-weight: 400;
        margin-left: 4px
    }

    button.group {
        float: right;
        margin-top: 3px
    }

    button.element {
        margin-left: 5px
    }

    button:hover {
        background-position: 0 -15px;
        outline-offset: -6px;
        text-decoration: none;
        transition: background-position 0.1s linear 0s
    }

    input:focus, select:focus {
        border-color: #176ca7;
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05) inset, 0 0 8px #99cdf1;
        transition: border 0.2s linear 0s, box-shadow 0.2s linear 0s
    }

    div.right > div, div.left > div {
        background: none repeat scroll 0 center #f6f6f6;
        color: #222 !important;
        outline: 1px solid gainsboro
    }

    div.right h3 {
        background-color: #176ca7;
        background-image: linear-gradient(#176ca7, #135888);
        background-repeat: repeat-x;
        background-size: 100% auto;
        border-collapse: collapse;
        border-spacing: 0;
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
        color: #fff;
        direction: ltr;
        font-family: sans-serif;
        font-size: 12.8px;
        font-weight: 700;
        line-height: 19.2px;
        margin: 0 0 1px;
        padding: 5px 10px;
        text-align: left;
        text-shadow: #222 0 1px 1px;
        vertical-align: bottom
    }

    div.left h3 {
        background-color: #176ca7;
        background-image: linear-gradient(#176ca7, #135888);
        background-repeat: repeat-x;
        background-size: 100% auto;
        border-collapse: collapse;
        border-spacing: 0;
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
        color: #fff;
        direction: ltr;
        font-family: sans-serif;
        font-size: 12.8px;
        font-weight: 700;
        line-height: 19.2px;
        margin: 0 0 1px;
        padding: 5px 10px;
        text-align: left;
        text-shadow: #222 0 1px 1px;
        vertical-align: bottom
    }

    .remove-highlight input, .remove-highlight select {
        border-color: rgb(239, 6, 6);
        border-style: solid;
        border-width: 1px;
        border-radius: 5px;
        -webkit-transition: all 0.1s linear 0s, border-color 0s;
        transition: all 0.1s linear 0s, border-color 0s
    }

    h3.recommended:hover, h3.other:hover, button:hover {
        cursor: pointer
    }

    h1, h2 {
        color: #0084b9
    }

    span.divider {
        border-bottom: 1px gainsboro solid;
        float: left;
        line-height: 3px;
        margin-bottom: 5px;
        width: 100%
    }

    pre {
        white-space: pre-wrap;
        word-wrap: break-word
    }

    span.output {
        float: left
    }

    a.button {
        -moz-text-blink: none;
        -moz-text-decoration-color: #fff;
        -moz-text-decoration-line: none;
        -moz-text-decoration-style: solid;
        background-color: #176ca7;
        background-image: linear-gradient(#176ca7, #114f7a);
        background-repeat: repeat-x;
        background-size: 100% auto;
        border-bottom-color: #0b324d;
        border-bottom-left-radius: 4px;
        border-bottom-right-radius: 4px;
        border-bottom-style: solid;
        border-bottom-width: 1px;
        border-collapse: collapse;
        border-left-color: #0e4164;
        border-left-style: solid;
        border-left-width: 1px;
        border-right-color: #0e4164;
        border-right-style: solid;
        border-right-width: 1px;
        border-spacing: 0;
        border-top-color: #0e4164;
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
        border-top-style: solid;
        border-top-width: 1px;
        box-shadow: rgba(255, 255, 255, 0.2) 0 1px 0 0 inset, rgba(0, 0, 0, 0.05) 0 1px 2px 0;
        color: #fff;
        cursor: pointer;
        direction: ltr;
        display: inline-block;
        font-family: Arial, Verdana, Helvetica, sans-serif;
        font-size: 13.3333px;
        font-weight: 400;
        line-height: 16px;
        padding: 4px 10px;
        text-align: center;
        text-decoration: none;
        text-shadow: #222 0 1px 1px;
        vertical-align: middle
    }
</style>

<div ng-include src="'components/navbar/navbar.html'"></div>
<div ng-controller="MetadataCtrl">
    <div class="left">
        <h2 class="pagetitle">DataCite Metadata Generator</h2>
        <form name="metadata_form" data-ng-submit="submit()"  novalidate>
        <h3 class="mandatory">Mandatory Elements</h3>
        <div class="form mandatory">
            <div class="section">
                <span class="tag-group-label">DOI:</span>
                <div class="tag-group">
                    <div title="identifier" class="tag">
                        <input class="input-field full-width tag-value" type="text" placeholder="[DOI]" value="" data-ng-model="metadata.identifier.value" />
                        <input class="input-field tag-attribute" type="hidden" ng-init="metadata.identifier.identifierType='DOI'"  data-ng-model="metadata.identifier.identifierType"/>
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>

            <div title="titles" class="section wrapper-tag">
                <span class="tag-group-label">Title(s):</span>
                <button type="button" class="add group" data-ng-click="add(metadata.titles.title,{})">+</button>
                <div class="tag-group" ng-repeat="t in metadata.titles.title">
                    <div title="title" class="tag">
                        <input class="full-width input-field tag-value" type="text" placeholder="[TITLE]" data-ng-model="t.value" value="" />
                        <select class="half-width input-field tag-attribute" data-ng-model="t.titleType">
                            <option value="">[titleType]</option>
                            <option value="Abstract">AlternativeTitle</option>
                            <option value="Methods">Subtitle</option>
                            <option value="SeriesInformation">TranslatedTitle</option>
                        </select>
                        <button type="button" class="add group" ng-show="!$first" data-ng-click="remove(metadata.titles.title)">-</button>
                    </div>
                </div>

            </div>
            <span class="divider">&nbsp;</span>
            <div title="creators" class="section wrapper-tag">
                <span class="tag-group-label">Creator(s):</span>
                <button type="button" class="add group"  data-ng-click="add(metadata.creators.creator)">+</button>
                <div class="tag-group" ng-repeat="c in metadata.creators.creator">
                    <div title="creator" class="tag">
                        <div title="creatorName" class="tag">
                            <input class="full-width input-field tag-value" type="text" placeholder="[CREATOR NAME]" data-ng-model="c.creatorName" value="" />
                        </div>
                        <div title="nameIdentifier" class="tag">
                            <input class="half-width input-field tag-value" type="text" placeholder="[NAME IDENTIFIER]" data-ng-model="c.nameIdentifier.value" value="" />
                            <input class="half-width input-field tag-attribute" type="text" placeholder="[NAME ID SCHEME]" data-ng-model="c.nameIdentifier.nameIdentifierScheme" value="" />
                            <input class="full-width input-field tag-attribute" type="text" placeholder="[IDENTIFIER SCHEME URI]" data-ng-model="c.nameIdentifier.schemeURI" value="" />
                        </div>
                        <div title="affiliation" class="tag">
                            <input class="unbounded-width input-field tag-value" type="text" placeholder="[CREATOR AFFILIATION]" data-ng-model="c.affiliation" value="" />
                        </div>
                        <button type="button" class="add group" ng-show="!$first" data-ng-click="remove(metadata.creators.creator)">-</button>
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div class="section">
                <span class="tag-group-label">Publisher:</span>
                <div class="tag-group">
                    <div title="publisher" class="tag">
                        <input type="text" class="full-width input-field tag-value" placeholder="[PUBLISHER]" data-ng-model="metadata.publisher" value="" />
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div class="section">
                <span class="tag-group-label">Publication Year:</span>
                <div class="tag-group">
                    <div title="publicationYear" class="tag">
                        <input type="text" class="full-width input-field tag-value" placeholder="[YYYY]" data-ng-model="metadata.publicationYear" pattern="[0-9]{4}" value="" />
                    </div>
                </div>
            </div>
        </div>
        <h3 class="recommended" data-ng-click="recommended=!recommended">+ Recommended Elements</h3>
        <div id="recommended" class="form recommended" data-ng-show="recommended">
            <div title="subjects" class="section wrapper-tag">
                <span class="tag-group-label">Subject(s):</span>
                <button type="button" class="add group">+</button>
                <div class="tag-group">
                    <div title="subject" class="tag">
                        <input class="half-width input-field tag-value" type="text" placeholder="[SUBJECT]" title="subject" value="" />
                        <input class="half-width input-field tag-attribute" type="text" placeholder="[SUBJECT SCHEME]" title="subjectScheme" value="" />
                        <input class="full-width input-field tag-attribute" type="text" placeholder="[SUBJECT SCHEME URI]" title="schemeURI" value="" />
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div title="contributors" class="section wrapper-tag">
                <span class="tag-group-label">Contributor(s):</span>
                <button type="button" class="add group">+</button>
                <div class="tag-group">
                    <div title="contributor" class="tag">
                        <div title="contributorName" class="tag">
                            <input class="half-width input-field tag-value" type="text" placeholder="[CONTRIBUTOR NAME]" title="contributorName" value="" />
                            <select class="half-width input-field tag-attribute" title="contributorType">
                                <option value="">[contributorType]</option>
                            </select>
                        </div>
                        <div title="nameIdentifier" class="tag">
                            <input class="half-width input-field tag-value" type="text" placeholder="[NAME IDENTIFIER]" title="nameIdentifier" value="" />
                            <input class="half-width input-field tag-attribute" type="text" placeholder="[NAME ID SCHEME]" title="nameIdentifierScheme" value="" />
                            <input class="full-width input-field tag-attribute" type="text" placeholder="[IDENTIFIER SCHEME URI]" title="schemeURI" value="" />
                        </div>
                        <div title="affiliation" class="tag">
                            <input class="unbounded-width input-field tag-value" type="text" placeholder="[CONTRIBUTOR AFFILIATION]" title="affiliation" value="" /><button type="button" class="add single-tag">+</button>
                        </div>
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div title="dates" class="section wrapper-tag">
                <span class="tag-group-label">Date(s):</span>
                <button type="button" class="add group">+</button>
                <div class="tag-group">
                    <div title="date" class="tag">
                        <input class="half-width input-field tag-value" type="text" placeholder="[DATE]" title="date" value="" />
                        <select class="half-width input-field tag-attribute" title="dateType">
                            <option value="">[dateType]</option>
                        </select>
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div class="section">
                <span class="tag-group-label">Resource Type:</span>
                <div class="tag-group">
                    <div title="resourceType" class="tag">
                        <input class="half-width input-field tag-value" type="text" placeholder="[RESOURCE TYPE]" title="resourceType" value="" />
                        <select class="half-width input-field tag-attribute" title="resourceTypeGeneral">
                            <option value="">[resourceTypeGeneral]</option>
                        </select>
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div title="relatedIdentifiers" class="section wrapper-tag">
                <span class="tag-group-label">Related Identifier(s):</span>
                <button type="button" class="add group">+</button>
                <div class="tag-group">
                    <div title="relatedIdentifier" class="tag">
                        <input class="full-width input-field tag-value" type="text" placeholder="[RELATED IDENTIFIER]" title="relatedIdentifier" value="" />
                        <select class="half-width input-field tag-attribute" title="relatedIdentifierType">
                            <option value="">[relatedIdentifierType]</option>
                        </select>
                        <select class="half-width input-field tag-attribute" title="relationType">
                            <option value="">[relationType]</option>
                        </select>
                        <input class="half-width input-field tag-attribute" type="text" placeholder="[METADATA SCHEME]" title="relatedMetadataScheme" value="" />
                        <input class="half-width input-field tag-attribute" type="text" placeholder="[SCHEME TYPE]" title="schemeType" value="" />
                        <input class="full-width input-field tag-attribute" type="text" placeholder="[SCHEME URI]" title="schemeURI" value="" />
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div title="descriptions" class="section wrapper-tag">
                <span class="tag-group-label">Description:</span>
                <button type="button" class="add group">+</button>
                <div class="tag-group">
                    <div title="description" class="tag">
                        <input class="half-width input-field tag-value" type="text" placeholder="[DESCRIPTION]" title="description" value="" />
                        <select class="half-width input-field tag-attribute" title="descriptionType">
                            <option value="">[descriptionType]</option>
                        </select>
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div title="geoLocations" class="section wrapper-tag">
                <span class="tag-group-label">Geo Location:</span>
                <button type="button" class="add group">+</button>
                <div class="tag-group">
                    <div title="geolocation" class="tag">
                        <div title="geoLocationPoint" class="tag">
                            <input class="half-width input-field tag-value" type="text" placeholder="[GEO LOCATION POINT]" title="geoLocationPoint" value="" />
                        </div>
                        <div title="geoLocationBox" class="tag">
                            <input class="half-width input-field tag-value" type="text" placeholder="[GEO LOCATION BOX]" title="geoLocationBox" value="" />
                        </div>
                        <div title="geoLocationPlace" class="tag">
                            <input class="full-width input-field tag-value" type="text" placeholder="[GEO LOCATION PLACE]" title="geoLocationPlace" value="" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <h3 class="other" data-ng-click="others=!others">+ Other Elements</h3>
        <div id="other" class="form other" data-ng-show="others">
            <div class="section">
                <span class="tag-group-label">Language:</span>
                <div class="tag-group">
                    <div title="language" class="tag">
                        <input class="full-width input-field tag-value" type="text" placeholder="[LANGUAGE]" title="language" value="" />
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div title="alternateIdentifiers" class="section wrapper-tag">
                <span class="tag-group-label">Alternate Identifier(s):</span>
                <button type="button" class="add group">+</button>
                <div class="tag-group">
                    <div title="alternateIdentifier" class="tag">
                        <input class="half-width input-field tag-value" type="text" placeholder="[ALTERNATE IDENTIFIER]" title="alternateIdentifier" value="" />
                        <input class="half-width input-field tag-attribute" type="text" placeholder="[ALTERNATE ID TYPE]" title="alternateIdentifierType" value="" />
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div title="sizes" class="section wrapper-tag">
                <span class="tag-group-label">Size(s):</span>
                <button type="button" class="add group">+</button>
                <div class="tag-group">
                    <div title="size" class="tag">
                        <input class="full-width input-field tag-value" type="text" placeholder="[SIZE]" title="size" value="" />
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div title="formats" class="section wrapper-tag">
                <span class="tag-group-label">Format(s):</span>
                <button type="button" class="add group">+</button>
                <div class="tag-group">
                    <div title="format" class="tag">
                        <input class="full-width input-field tag-value" type="text" placeholder="[FORMAT]" title="format" value="" />
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div class="section">
                <span class="tag-group-label">Version:</span>
                <div class="tag-group">
                    <div title="version" class="tag">
                        <input class="full-width input-field tag-value" type="text" placeholder="[VERSION]" title="version" value="" />
                    </div>
                </div>
            </div>
            <span class="divider">&nbsp;</span>
            <div title="rightslist" class="section wrapper-tag">
                <span class="tag-group-label">Rights List:</span>
                <button type="button" class="add group">+</button>
                <div class="tag-group">
                    <div title="rights" class="tag">
                        <input class="full-width input-field tag-value" type="text" placeholder="[RIGHTS]" title="rights" value="" />
                        <input class="full-width input-field tag-attribute" type="text" placeholder="[RIGHTS URI]" title="rightsURI" value="" />
                    </div>
                </div>
            </div>
        </div>
        <input class="form-control btn btn-primary" value="Generate" type="submit"/>
        <br />
        </form>
    </div>
    <div class="right" data-ng-show="showResult">
        <h3 class="results">Metadata</h3>
        <div class="form results">
            <pre><code style="{display:inline-block}">{{xml}}</code></pre>
        </div>
        <input class="form btn btn-primary" value="Post to DataCite" type="button" data-ng-click="postToDataCite()"/>
        <br />
    </div>
</div>
